<!DOCTYPE html>
<html lang="en">
  <head>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
  </head>

  <body>
    <div class="container">
      <div class="dropdown">
        <button
          class="btn btn-success dropdown-toggle"
          type="button"
          id="multiSelectDropdown"
          data-bs-toggle="dropdown"
          aria-expanded="false"
        >
          Select
        </button>
        <ul class="dropdown-menu" aria-labelledby="multiSelectDropdown">
          <li>
            <label for="check1">
              <input type="checkbox" value="Java" name="check1" id="check1" />
              Java
            </label>
          </li>
          <li>
            <label for="check2">
              <input type="checkbox" value="C++" name="check2" id="check3" />
              C++
            </label>
          </li>
          <li>
            <label for="check3">
              <input type="checkbox" value="Python" name="check3" id="check3" />
              Python
            </label>
          </li>
        </ul>
      </div>

      <input id="demo" readonly />

      <button id="saveButton">Ok</button>
      <button id="cancelButton">Cancel</button>
    </div>

    <script>
      const dropdownMenu = document.querySelector(".dropdown-menu");
      const selectedLanguagesInput = document.getElementById("demo");
      const saveButton = document.getElementById("saveButton");
      const cancelButton = document.getElementById("cancelButton");

      const selectedLanguages = [];

      function handleCB(event) {
        const checkbox = event.target;
        const value = checkbox.value;

        if (checkbox.checked && !selectedLanguages.includes(value)) {
          selectedLanguages.push(value);
        } else if (!checkbox.checked && selectedLanguages.includes(value)) {
          selectedLanguages.splice(selectedLanguages.indexOf(value), 1);
        }
      }

      dropdownMenu.addEventListener("change", handleCB);

      saveButton.addEventListener("click", function () {
       
        selectedLanguagesInput.value = selectedLanguages.join(", ");
      });

      cancelButton.addEventListener("click", function () {
      
        selectedLanguagesInput.value = "";
        selectedLanguages.length = 0;
        
        document
          .querySelectorAll(".dropdown-menu input[type='checkbox']")
          .forEach((checkbox) => {
            checkbox.checked = false;
          });
      });
    </script>
  </body>
</html>
